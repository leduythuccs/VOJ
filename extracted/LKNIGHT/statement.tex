Vậy là kỳ thi IOI 2011 đã kết thúc được vài tháng, mục tiêu lên đỏ topcoder cũng hoàn thành, đề bài VO12 cũng đã chuẩn bị xong. Không còn việc gì làm, ll931110 quay lại với bài toán chưa giải được của mình, bài toán \href{http://en.wikipedia.org/wiki/Knights_tour}{ mã đi tuần } trên bàn cờ N*N.

Mã đi tuần (hay còn gọi là hành trình của quân mã), là bài toán về việc di chuyển một quân mã trên bàn cờ N*N. Quân mã được đặt ở trên một bàn cờ trống và phải di chuyển theo nguyên tắc của cờ vua để đi qua mỗi ô trên bàn cờ đúng một lần.

Trong bài toán này, ta tạm bỏ qua việc một ô chỉ được đi qua đúng một lần.

Để thuận tiện, chúng ta sẽ đánh số các nước đi mà quân mã có thể thực hiện bằng các số nguyên từ 1 đến 8 như sau (M thể hiện vị trí ban đầu của quân mã):


\includegraphics{https://drive.google.com/uc?export=view&amp;id=1n-wF9MhJYq0Lzo2QYUxPdcYrbATcvB1h}

Bất chợt, ll931110 nhận ra rằng mình đã quên không ghi lại bất kỳ thông tin nào về lời giải mình đang xây dựng dở vì phải vội vã tham gia \href{http://www.usaco.org/current/data/dec11_gold_results.html}{ USACO December } . Tuy nhiên, là một người có trí nhớ phi thường (có thể nhớ được tất cả các đề bài, lời giải cũng như các test khó của tất cả các bài mình đã làm), ll931110 đã thuộc chính xác tất cả các nước đi của quân mã mà mình đã thực hiện. Khi đi theo các nước đi này, quân mã sẽ không đi ra ngoài bàn cờ. Tuy nhiên, ll931110 không nhớ vị trí xuất phát của quân mã (dĩ nhiên, nhớ một dãy số dài luôn đơn giản hơn nhớ 1 2 con số vô nghĩa :) ).

Nhiệm vụ của bạn là giúp ll931110 đếm xem sau các nước đi mà cậu đã thực hiện, quân mã có thể ở bao nhiêu vị trí khác nhau, nếu quân mã có thể đi vào một vị trí nhiều lần.

\