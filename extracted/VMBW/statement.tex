"You're half a world away" - 3/11/2011 Miss you

Hai năm trước, cô bé Tôm tinh nghịch được bạn mình tặng cho một món đồ chơi nhân ngày sinh nhật.

Món đồ chơi là một nhóm rất nhiều bóng đèn. Các bóng đèn được nối với nhau bằng những sợi dây điện. Mỗi bóng đèn có một công tắc. Khi bấm vào công tắc, trạng thái bật tắt của bóng đèn sẽ thay đổi.

Hai năm trôi qua, người bạn tặng món quà đó cho Tôm đã đi du học. Nhưng những gì ẩn chứa trong món đồ chơi đó dường như vẫn là một bí mật quá lớn. Tôm đã mất nhiều công sức để tìm tòi, đặt ra những thử thách cho riêng mình để có thể khám phá trọn vẹn được món đồ chơi.

Người bạn của Tôm có rất nhiều điều muốn chia sẻ. Vậy nhưng người ấy luôn ngại ngùng, e thẹn, nên đành dấu những lời thầm kín vào trong một bức thư. Để đọc hiểu được bức thư ấy, Tôm cần phải thao tác trên món đồ chơi bằng những lệnh mà bức thư chỉ ra.

Bức thư có rất nhiều lệnh. Mỗi lệnh thuộc một trong hai loại:
\begin{itemize}
	\item Loại thứ nhất có dạng "switch i": Tôm sẽ phải bấm vào công tắc i. Khi bấm vào công tắc i, trạng thái bật tắt của bóng đèn i sẽ thay đổi.
	\item Loại thứ hai có dạng "print s1 s2", trong đó s1, s2 nhận một trong hai giá trị 0 hoặc 1, 0 tượng trưng cho 'tắt', 1 tượng trưng cho 'bật': Tôm cần đếm xem có bao nhiêu sợi dây điện đang nối hai bóng đèn u, v mà trạng thái bật tắt hiện tại của u là s1, trạng thái bật tắt hiện tại của v là s2.
\end{itemize}

Đầu bức thư, người bạn của Tôm viết cho Tôm trạng thái bật tắt ban đầu của các bóng đèn. Để hiểu được người bạn ấy muốn nhắn nhủ điều gì, Tôm chỉ phải thực hiện lần lượt các lệnh ở trong bức thư.

Tuy nhiên, do người bạn của Tôm quên mất rằng Tôm không phải lập trình viên, nên đã gửi một bức thư với rất nhiều lệnh. Tôm cần các thí sinh VM giúp đỡ. Các bạn hãy giúp cô bé đáng yêu này nhé!